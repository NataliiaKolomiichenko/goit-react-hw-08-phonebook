"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[309],{963:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var a=t(434),r=t(791),c=function(e){return e.contacts.items},s=function(e){return e.contacts.isLoading},o=function(e){return e.contacts.error},i=function(e){return e.filter},u=function(e){var n=c(e),t=i(e).filter;if(!t)return n;var a=t.toLocaleLowerCase();return n.filter((function(e){return e.name.toLocaleLowerCase().includes(a)}))},l=t(634),m=t(885),d="ContactForm_form__dhl+T",_="ContactForm_input__Bl93P",h="ContactForm_inputLabel__LEeFC",f="ContactForm_btn__wll+u",b=t(329),p=function(){var e=(0,r.useState)(""),n=(0,m.Z)(e,2),t=n[0],s=n[1],o=(0,r.useState)(""),i=(0,m.Z)(o,2),u=i[0],p=i[1],g=(0,a.v9)(c),x=(0,a.I0)(),v=function(e){var n=e.toLowerCase();if(g.map((function(e){return e.name.toLowerCase()})).includes(n))return alert("".concat(t," is already in contacts."));x((0,l.uK)({name:t,number:u})),s(""),p("")},C=function(e){var n=e.currentTarget,t=n.name,a=n.value;switch(t){case"name":s(a);break;case"number":p(a);break;default:return}};return(0,b.jsxs)("form",{className:d,onSubmit:function(e){e.preventDefault(),v(t)},children:[(0,b.jsxs)("label",{className:h,children:[" Name",(0,b.jsx)("input",{className:_,type:"text",name:"name",value:t,onChange:C,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,b.jsxs)("label",{className:h,children:[" Phone number",(0,b.jsx)("input",{className:_,type:"tel",name:"number",value:u,onChange:C,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,b.jsx)("button",{type:"submit",className:f,children:"Add contact"})]})},g="Modal_overlay__r63M6",x=t(164),v="ChangingContactForm_changingForm__xlybJ",C="ChangingContactForm_changingFormInput__heH7U",N="ChangingContactForm_changingFormInputLabel__YHJGN",j="ChangingContactForm_changingFormBtn__ZMzFB",y=function(e){var n=e.id,t=e.onToggle,s=e.prevName,o=e.prevNumber,i=(0,r.useState)(s),u=(0,m.Z)(i,2),d=u[0],_=u[1],h=(0,r.useState)(o),f=(0,m.Z)(h,2),p=f[0],g=f[1],x=(0,a.v9)(c),y=(0,a.I0)(),w=function(e){var t=e.toLowerCase();if(x.map((function(e){return e.name.toLowerCase()})).includes(t))return alert("".concat(d," is already in contacts."));y((0,l.Tk)({id:n,name:d,number:p})),_(""),g("")},F=function(e){var n=e.currentTarget,t=n.name,a=n.value;switch(t){case"name":_(a);break;case"number":g(a);break;default:return}};return(0,b.jsxs)("form",{className:v,onSubmit:function(e){e.preventDefault(),w(d),t()},children:[(0,b.jsxs)("label",{className:N,children:[" Name",(0,b.jsx)("input",{className:C,type:"text",name:"name",onChange:F,defaultValue:d,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,b.jsxs)("label",{className:N,children:[" Phone number",(0,b.jsx)("input",{className:C,type:"tel",name:"number",onChange:F,defaultValue:p,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,b.jsx)("p",{children:"Please, change name or number"}),(0,b.jsx)("button",{type:"submit",className:j,children:"Change contact"})]})},w=document.querySelector("#modal-root"),F=function(e){var n=e.onToggle,t=e.id,a=e.name,c=e.number;(0,r.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return(0,x.createPortal)((0,b.jsx)("div",{className:g,onClick:function(e){e.currentTarget===e.target&&n()},children:(0,b.jsx)(y,{id:t,onToggle:n,prevName:a,prevNumber:c})}),w)},k="ContactItem_listItem__NSSYk",L="ContactItem_contactItem_text__P7QJP",S="ContactItem_btn__1h5dG",Z=function(e){var n=e.name,t=e.number,c=e.id,s=(0,r.useState)(!1),o=(0,m.Z)(s,2),i=o[0],u=o[1],d=(0,a.I0)(),_=function(){u((function(e){return!e}))};return(0,b.jsxs)("li",{className:k,children:[(0,b.jsxs)("p",{className:L,children:[n,": ",t]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("button",{type:"button",className:S,onClick:function(){return _()},children:"Change"}),(0,b.jsx)("button",{type:"button",className:S,onClick:function(){return d((0,l.GK)(c))},children:"Delete"})]}),i&&(0,b.jsx)(F,{onToggle:_,id:c,name:n,number:t})]})},P="ContactList_list__csErn",I=function(){var e=(0,a.v9)(u);return(0,b.jsx)("ul",{className:P,children:e.map((function(e){var n=e.name,t=e.number,a=e.id;return(0,b.jsx)(Z,{name:n,number:t,id:a},a)}))})},A=t(808),z="Filter_input__N7T3z",T="Filter_inputLabel__AHo9j",E=function(){var e=(0,a.v9)(i).filter,n=(0,a.I0)();return(0,b.jsxs)("label",{className:T,children:[" Find contacts by name",(0,b.jsx)("input",{className:z,type:"text",name:"filter",value:e,onChange:function(e){n((0,A.T)(e.target.value))}})]})},q=t(917),M=function(){var e=(0,a.I0)(),n=(0,a.v9)(s),t=(0,a.v9)(o);return(0,r.useEffect)((function(){e((0,l.yF)())}),[e]),(0,b.jsxs)("div",{className:q.Z.contact_container,children:[(0,b.jsx)("h2",{className:q.Z.contact_title,children:"Phonebook"}),(0,b.jsx)(p,{}),(0,b.jsx)("h2",{className:q.Z.contact_title,children:"Contacts"}),(0,b.jsx)(E,{}),n&&!t&&(0,b.jsx)("p",{children:"Loading contacts..."}),(0,b.jsx)(I,{})]})}},917:function(e,n){n.Z={home_container:"PagesStyle_home_container__2xcs9",home_title:"PagesStyle_home_title__RFnUq",home_text:"PagesStyle_home_text__fGaIS",contact_container:"PagesStyle_contact_container__SbMrd",contact_title:"PagesStyle_contact_title__9zuLk"}}}]);
//# sourceMappingURL=309.2fb33144.chunk.js.map